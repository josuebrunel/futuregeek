<!DOCTYPE html>
<html lang="fr">
<head>
        <meta charset="utf-8" />
        <title>LokingYQL</title>
        <link rel="stylesheet" href="http://212.83.154.157/blog/theme/css/main.css" />

        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
<a href="https://github.com/josuebrunel/">
<img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub" />
</a>
        <header id="banner" class="body">
                <h1><a href="http://212.83.154.157/blog/">FutureGeek </a></h1>
                <nav><ul>
                    <li><a href="http://212.83.154.157/blog/category/about-me.html">About Me</a></li>
                    <li><a href="http://212.83.154.157/blog/category/linux.html">Linux</a></li>
                    <li><a href="http://212.83.154.157/blog/category/openerp.html">Openerp</a></li>
                    <li><a href="http://212.83.154.157/blog/category/programming.html">Programming</a></li>
                    <li class="active"><a href="http://212.83.154.157/blog/category/projects.html">Projects</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="http://212.83.154.157/blog/lokingyql.html" rel="bookmark"
           title="Permalink to LokingYQL">LokingYQL</a></h1>
<a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="josuebrunel">Tweet</a><script type="text/javascript" src="//platform.twitter.com/widgets.js"></script>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-08-30T00:00:00+02:00">
                Published: Sat 30 August 2014
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://212.83.154.157/blog/author/josue-kouka.html">Josue Kouka</a>
        </address>
<p>In <a href="http://212.83.154.157/blog/category/projects.html">Projects</a>. </p>
<p>tags: <a href="http://212.83.154.157/blog/tag/yql.html">yql</a> <a href="http://212.83.154.157/blog/tag/python.html">python</a> <a href="http://212.83.154.157/blog/tag/loking.html">loking</a> <a href="http://212.83.154.157/blog/tag/wrapper.html">wrapper</a> <a href="http://212.83.154.157/blog/tag/yahoo.html">yahoo</a> </p>
</footer><!-- /.post-info -->      <h1>lokingYQL</h1>
<p>LokingYQL is a Python wrapper of the Yahoo Query Language.</p>
<h1>Yahoo! Query Langauge Documentation and Support</h1>
<ul>
<li>Yahoo! Query Language - http://developer.yahoo.com/yql/</li>
<li>Yahoo! Developer Network: http://developer.yahoo.com</li>
<li>Yahoo! Application Platform - http://developer.yahoo.com/yap/</li>
<li>Yahoo! Social APIs - http://developer.yahoo.com/social/</li>
<li>Yahoo! QUery Language Console https://developer.yahoo.com/yql/console/</li>
</ul>
<h1>version 1.0</h1>
<ul>
<li>Access to resources requiring authentication</li>
</ul>
<h1>version 0.5.6</h1>
<ul>
<li>fetch data</li>
<li>access to community data</li>
<li>select data format (xml/json)</li>
<li>change data source</li>
<li>filter data </li>
</ul>
<h2>fixes:</h2>
<ul>
<li>fix handling of default and on the fly response format</li>
<li>fix limit on <strong><em>select(...).where(...)</em></strong> when no limit value is passed</li>
<li>fix limit on <strong><em>get(...)</em></strong></li>
</ul>
<h1>installation</h1>
<div class="highlight"><pre><span class="nv">$ </span>python setup.py install
</pre></div>


<h1>how to use</h1>
<div class="highlight"><pre><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">lokingyql</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">yql</span> <span class="o">=</span> <span class="n">lokingyql</span><span class="o">.</span><span class="n">LokingYQL</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">yql</span><span class="o">.</span><span class="n">diagnostics</span> <span class="o">=</span> <span class="bp">True</span> <span class="c"># To turn diagnostics on</span>
</pre></div>


<h2>access to community tables</h2>
<div class="highlight"><pre><span class="o">&gt;&gt;&gt;</span> <span class="n">yql</span> <span class="o">=</span> <span class="n">lokingyql</span><span class="o">.</span><span class="n">LokingYQL</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">rep</span> <span class="o">=</span> <span class="n">yql</span><span class="o">.</span><span class="n">rawQuery</span><span class="p">(</span><span class="s">&#39;desc yahoo.finance.quotes &#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">rep</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="p">{</span><span class="s">u&#39;error&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">u&#39;lang&#39;</span><span class="p">:</span> <span class="s">u&#39;en-US&#39;</span><span class="p">,</span> <span class="s">u&#39;description&#39;</span><span class="p">:</span> <span class="s">u&#39;No definition found for Table yahoo.finance.quotes&#39;</span><span class="p">}}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">yql</span><span class="o">.</span><span class="n">community</span><span class="o">=</span> <span class="bp">True</span> <span class="c"># Setting up access to community</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">rep</span> <span class="o">=</span> <span class="n">yql</span><span class="o">.</span><span class="n">rawQuery</span><span class="p">(</span><span class="s">&#39;desc yahoo.finance.quotes &#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">rep</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="p">{</span><span class="s">u&#39;query&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">u&#39;count&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">u&#39;lang&#39;</span><span class="p">:</span> <span class="s">u&#39;en-US&#39;</span><span class="p">,</span> <span class="s">u&#39;results&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">u&#39;table&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">u&#39;src&#39;</span><span class="p">:</span> <span class="s">u&#39;http://www.datatables.org/yahoo/finance/yahoo.finance.quotes.xml&#39;</span><span class="p">,</span> <span class="s">u&#39;hash&#39;</span><span class="p">:</span> <span class="s">u&#39;061616a1c033ae89aaf2cbe83790b979&#39;</span><span class="p">,</span> <span class="s">u&#39;name&#39;</span><span class="p">:</span> <span class="s">u&#39;yahoo.finance.quotes&#39;</span><span class="p">,</span> <span class="s">u&#39;request&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">u&#39;select&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">u&#39;key&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">u&#39;required&#39;</span><span class="p">:</span> <span class="s">u&#39;true&#39;</span><span class="p">,</span> <span class="s">u&#39;type&#39;</span><span class="p">:</span> <span class="s">u&#39;xs:string&#39;</span><span class="p">,</span> <span class="s">u&#39;name&#39;</span><span class="p">:</span> <span class="s">u&#39;symbol&#39;</span><span class="p">}}},</span> <span class="s">u&#39;meta&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">u&#39;sampleQuery&#39;</span><span class="p">:</span> <span class="s">u&#39;</span><span class="se">\n\t\t\t</span><span class="s">select * from yahoo.finance.quotes where symbol in (&quot;YHOO&quot;,&quot;AAPL&quot;,&quot;GOOG&quot;,&quot;MSFT&quot;)</span><span class="se">\n\t\t</span><span class="s">&#39;</span><span class="p">},</span> <span class="s">u&#39;security&#39;</span><span class="p">:</span> <span class="s">u&#39;ANY&#39;</span><span class="p">}},</span> <span class="s">u&#39;created&#39;</span><span class="p">:</span> <span class="s">u&#39;2014-08-24T11:26:48Z&#39;</span><span class="p">}}</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>


<p><strong><em>OR</em></strong></p>
<div class="highlight"><pre><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">lokingyql</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">yql</span> <span class="o">=</span> <span class="n">lokingyql</span><span class="o">.</span><span class="n">LokingYQL</span><span class="p">(</span><span class="n">community</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c"># do your magic</span>
</pre></div>


<h2>changing response format (xml or json)</h2>
<p>The response format is by default <strong><em>json</em></strong>.</p>
<div class="highlight"><pre><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">lokingyql</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">yql</span> <span class="o">=</span> <span class="n">lokingyql</span><span class="o">.</span><span class="n">LokingYQL</span><span class="p">(</span><span class="n">format</span><span class="o">=</span><span class="s">&#39;xml&#39;</span><span class="p">,</span> <span class="n">community</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">rep</span> <span class="o">=</span> <span class="n">yql</span><span class="o">.</span><span class="n">rawQuery</span><span class="p">(</span><span class="s">&#39;select name, woeid from geo.states where place=&quot;Congo&quot;&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">rep</span><span class="o">.</span><span class="n">text</span>
<span class="s">u&#39;&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><span class="se">\n</span><span class="s">&lt;query xmlns:yahoo=&quot;http://www.yahooapis.com/v1/base.rng&quot; yahoo:count=&quot;11&quot; yahoo:created=&quot;2014-08-27T04:52:22Z&quot; yahoo:lang=&quot;en-US&quot;&gt;&lt;results&gt;&lt;place xmlns=&quot;http://where.yahooapis.com/v1/schema.rng&quot;&gt;&lt;name&gt;Cuvette-Ouest Department&lt;/name&gt;&lt;woeid&gt;55998384&lt;/woeid&gt;&lt;/place&gt;&lt;place xmlns=&quot;http://where.yahooapis.com/v1/schema.rng&quot;&gt;&lt;name&gt;Cuvette Department&lt;/name&gt;&lt;woeid&gt;2344968&lt;/woeid&gt;&lt;/place&gt;&lt;place xmlns=&quot;http://where.yahooapis.com/v1/schema.rng&quot;&gt;&lt;name&gt;Plateaux District&lt;/name&gt;&lt;woeid&gt;2344973&lt;/woeid&gt;&lt;/place&gt;&lt;place xmlns=&quot;http://where.yahooapis.com/v1/schema.rng&quot;&gt;&lt;name&gt;Sangha&lt;/name&gt;&lt;woeid&gt;2344974&lt;/woeid&gt;&lt;/place&gt;&lt;place xmlns=&quot;http://where.yahooapis.com/v1/schema.rng&quot;&gt;&lt;name&gt;Lekoumou&lt;/name&gt;&lt;woeid&gt;2344970&lt;/woeid&gt;&lt;/place&gt;&lt;place xmlns=&quot;http://where.yahooapis.com/v1/schema.rng&quot;&gt;&lt;name&gt;Pool Department&lt;/name&gt;&lt;woeid&gt;2344975&lt;/woeid&gt;&lt;/place&gt;&lt;place xmlns=&quot;http://where.yahooapis.com/v1/schema.rng&quot;&gt;&lt;name&gt;Likouala Department&lt;/name&gt;&lt;woeid&gt;2344971&lt;/woeid&gt;&lt;/place&gt;&lt;place xmlns=&quot;http://where.yahooapis.com/v1/schema.rng&quot;&gt;&lt;name&gt;Niari Department&lt;/name&gt;&lt;woeid&gt;2344972&lt;/woeid&gt;&lt;/place&gt;&lt;place xmlns=&quot;http://where.yahooapis.com/v1/schema.rng&quot;&gt;&lt;name&gt;Brazzaville&lt;/name&gt;&lt;woeid&gt;2344976&lt;/woeid&gt;&lt;/place&gt;&lt;place xmlns=&quot;http://where.yahooapis.com/v1/schema.rng&quot;&gt;&lt;name&gt;Bouenza Department&lt;/name&gt;&lt;woeid&gt;2344967&lt;/woeid&gt;&lt;/place&gt;&lt;place xmlns=&quot;http://where.yahooapis.com/v1/schema.rng&quot;&gt;&lt;name&gt;Kouilou&lt;/name&gt;&lt;woeid&gt;2344969&lt;/woeid&gt;&lt;/place&gt;&lt;/results&gt;&lt;/query&gt;&lt;!-- total: 19 --&gt;</span><span class="se">\n</span><span class="s">&lt;!-- engine7.yql.bf1.yahoo.com --&gt;</span><span class="se">\n</span><span class="s">&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">rep</span> <span class="o">=</span> <span class="n">yql</span><span class="o">.</span><span class="n">rawQuery</span><span class="p">(</span><span class="s">&#39;select name, woeid from geo.states where place=&quot;Congo&quot;&#39;</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s">&#39;json&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">rep</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="p">{</span><span class="s">u&#39;query&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">u&#39;count&#39;</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span> <span class="s">u&#39;lang&#39;</span><span class="p">:</span> <span class="s">u&#39;en-US&#39;</span><span class="p">,</span> <span class="s">u&#39;results&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">u&#39;place&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s">u&#39;woeid&#39;</span><span class="p">:</span> <span class="s">u&#39;55998384&#39;</span><span class="p">,</span> <span class="s">u&#39;name&#39;</span><span class="p">:</span> <span class="s">u&#39;Cuvette-Ouest Department&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s">u&#39;woeid&#39;</span><span class="p">:</span> <span class="s">u&#39;2344968&#39;</span><span class="p">,</span> <span class="s">u&#39;name&#39;</span><span class="p">:</span> <span class="s">u&#39;Cuvette Department&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s">u&#39;woeid&#39;</span><span class="p">:</span> <span class="s">u&#39;2344973&#39;</span><span class="p">,</span> <span class="s">u&#39;name&#39;</span><span class="p">:</span> <span class="s">u&#39;Plateaux District&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s">u&#39;woeid&#39;</span><span class="p">:</span> <span class="s">u&#39;2344974&#39;</span><span class="p">,</span> <span class="s">u&#39;name&#39;</span><span class="p">:</span> <span class="s">u&#39;Sangha&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s">u&#39;woeid&#39;</span><span class="p">:</span> <span class="s">u&#39;2344970&#39;</span><span class="p">,</span> <span class="s">u&#39;name&#39;</span><span class="p">:</span> <span class="s">u&#39;Lekoumou&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s">u&#39;woeid&#39;</span><span class="p">:</span> <span class="s">u&#39;2344975&#39;</span><span class="p">,</span> <span class="s">u&#39;name&#39;</span><span class="p">:</span> <span class="s">u&#39;Pool Department&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s">u&#39;woeid&#39;</span><span class="p">:</span> <span class="s">u&#39;2344971&#39;</span><span class="p">,</span> <span class="s">u&#39;name&#39;</span><span class="p">:</span> <span class="s">u&#39;Likouala Department&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s">u&#39;woeid&#39;</span><span class="p">:</span> <span class="s">u&#39;2344972&#39;</span><span class="p">,</span> <span class="s">u&#39;name&#39;</span><span class="p">:</span> <span class="s">u&#39;Niari Department&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s">u&#39;woeid&#39;</span><span class="p">:</span> <span class="s">u&#39;2344976&#39;</span><span class="p">,</span> <span class="s">u&#39;name&#39;</span><span class="p">:</span> <span class="s">u&#39;Brazzaville&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s">u&#39;woeid&#39;</span><span class="p">:</span> <span class="s">u&#39;2344967&#39;</span><span class="p">,</span> <span class="s">u&#39;name&#39;</span><span class="p">:</span> <span class="s">u&#39;Bouenza Department&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s">u&#39;woeid&#39;</span><span class="p">:</span> <span class="s">u&#39;2344969&#39;</span><span class="p">,</span> <span class="s">u&#39;name&#39;</span><span class="p">:</span> <span class="s">u&#39;Kouilou&#39;</span><span class="p">}]},</span> <span class="s">u&#39;created&#39;</span><span class="p">:</span> <span class="s">u&#39;2014-08-27T04:52:38Z&#39;</span><span class="p">}}</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>


<h2>Methods</h2>
<h2>use(data_provider_url)</h2>
<p>Changes the data provider</p>
<div class="highlight"><pre><span class="o">&gt;&gt;&gt;</span> <span class="n">yql</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s">&#39;http://myserver.com/mytables.xml&#39;</span><span class="p">)</span>
</pre></div>


<h2>desc(tablename)</h2>
<p>returns table description</p>
<div class="highlight"><pre><span class="o">&gt;&gt;&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">yql</span><span class="o">.</span><span class="n">desc</span><span class="p">(</span><span class="s">&#39;weather.forecast&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="p">{</span><span class="s">u&#39;query&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">u&#39;count&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">u&#39;lang&#39;</span><span class="p">:</span> <span class="s">u&#39;en-US&#39;</span><span class="p">,</span> <span class="s">u&#39;results&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">u&#39;table&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">u&#39;request&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">u&#39;select&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s">u&#39;key&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s">u&#39;required&#39;</span><span class="p">:</span> <span class="s">u&#39;true&#39;</span><span class="p">,</span> <span class="s">u&#39;type&#39;</span><span class="p">:</span> <span class="s">u&#39;xs:string&#39;</span><span class="p">,</span> <span class="s">u&#39;name&#39;</span><span class="p">:</span> <span class="s">u&#39;location&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s">u&#39;type&#39;</span><span class="p">:</span> <span class="s">u&#39;xs:string&#39;</span><span class="p">,</span> <span class="s">u&#39;name&#39;</span><span class="p">:</span> <span class="s">u&#39;u&#39;</span><span class="p">}]},</span> <span class="p">{</span><span class="s">u&#39;key&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s">u&#39;required&#39;</span><span class="p">:</span> <span class="s">u&#39;true&#39;</span><span class="p">,</span> <span class="s">u&#39;type&#39;</span><span class="p">:</span> <span class="s">u&#39;xs:string&#39;</span><span class="p">,</span> <span class="s">u&#39;name&#39;</span><span class="p">:</span> <span class="s">u&#39;woeid&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s">u&#39;type&#39;</span><span class="p">:</span> <span class="s">u&#39;xs:string&#39;</span><span class="p">,</span> <span class="s">u&#39;name&#39;</span><span class="p">:</span> <span class="s">u&#39;u&#39;</span><span class="p">}]}]},</span> <span class="s">u&#39;security&#39;</span><span class="p">:</span> <span class="s">u&#39;ANY&#39;</span><span class="p">,</span> <span class="s">u&#39;meta&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">u&#39;documentationURL&#39;</span><span class="p">:</span> <span class="s">u&#39;http://developer.yahoo.com/weather/&#39;</span><span class="p">,</span> <span class="s">u&#39;sampleQuery&#39;</span><span class="p">:</span> <span class="s">u&#39;select * from weather.forecast where woeid=2502265&#39;</span><span class="p">,</span> <span class="s">u&#39;description&#39;</span><span class="p">:</span> <span class="s">u&#39;Weather forecast table&#39;</span><span class="p">,</span> <span class="s">u&#39;author&#39;</span><span class="p">:</span> <span class="s">u&#39;Yahoo! Inc&#39;</span><span class="p">},</span> <span class="s">u&#39;hash&#39;</span><span class="p">:</span> <span class="s">u&#39;aae78b1462a6a8fbc748aec4cf292767&#39;</span><span class="p">,</span> <span class="s">u&#39;name&#39;</span><span class="p">:</span> <span class="s">u&#39;weather.forecast&#39;</span><span class="p">}},</span> <span class="s">u&#39;created&#39;</span><span class="p">:</span> <span class="s">u&#39;2014-08-16T19:31:51Z&#39;</span><span class="p">}}</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>


<h2>rawQuery(query)</h2>
<p>Allows you to directly type your query</p>
<div class="highlight"><pre><span class="o">&gt;&gt;&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">yql</span><span class="o">.</span><span class="n">rawQuery</span><span class="p">(</span><span class="s">&quot;select * from geo.countries where place=&#39;North America&#39;&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c"># deal with the response</span>
</pre></div>


<h2>select(table, fields, limit).where(filters, ...)</h2>
<p>Select a table i.e <em>weather.forecast</em>.
If <em>table</em> not provided, it will use the default table. If there's no such thing as a default table, it will raise a <em>NoTableSelectedError</em></p>
<p><strong><em>NB</em></strong> : A simple select doesn't return any data. Use <strong><em>GET</em></strong> instead.</p>
<div class="highlight"><pre><span class="o">&gt;&gt;&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">yql</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">&#39;geo.countries&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">name</span><span class="p">,</span> <span class="n">code</span><span class="p">,</span> <span class="n">woeid</span><span class="p">])</span><span class="o">.</span><span class="n">where</span><span class="p">([</span><span class="s">&#39;name&#39;</span><span class="p">,</span> <span class="s">&#39;=&#39;</span><span class="p">,</span> <span class="s">&#39;Canada&#39;</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="p">{</span><span class="s">u&#39;query&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">u&#39;count&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">u&#39;lang&#39;</span><span class="p">:</span> <span class="s">u&#39;en-US&#39;</span><span class="p">,</span> <span class="s">u&#39;results&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">u&#39;place&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">u&#39;woeid&#39;</span><span class="p">:</span> <span class="s">u&#39;23424775&#39;</span><span class="p">,</span> <span class="s">u&#39;name&#39;</span><span class="p">:</span> <span class="s">u&#39;Canada&#39;</span><span class="p">}},</span> <span class="s">u&#39;created&#39;</span><span class="p">:</span> <span class="s">u&#39;2014-08-16T19:04:08Z&#39;</span><span class="p">}}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="o">...</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">rep</span> <span class="o">=</span> <span class="n">yql</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">&#39;geo.countries&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;name&#39;</span><span class="p">,</span> <span class="s">&#39;woeid&#39;</span><span class="p">],</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">([</span><span class="s">&#39;place&#39;</span><span class="p">,</span> <span class="s">&#39;=&#39;</span><span class="p">,</span> <span class="s">&#39;Africa&#39;</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">rep</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="p">{</span><span class="s">u&#39;query&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">u&#39;count&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s">u&#39;lang&#39;</span><span class="p">:</span> <span class="s">u&#39;en-US&#39;</span><span class="p">,</span> <span class="s">u&#39;results&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">u&#39;place&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s">u&#39;woeid&#39;</span><span class="p">:</span> <span class="s">u&#39;23424740&#39;</span><span class="p">,</span> <span class="s">u&#39;name&#39;</span><span class="p">:</span> <span class="s">u&#39;Algeria&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s">u&#39;woeid&#39;</span><span class="p">:</span> <span class="s">u&#39;23424745&#39;</span><span class="p">,</span> <span class="s">u&#39;name&#39;</span><span class="p">:</span> <span class="s">u&#39;Angola&#39;</span><span class="p">}]},</span> <span class="s">u&#39;created&#39;</span><span class="p">:</span> <span class="s">u&#39;2014-08-17T10:52:49Z&#39;</span><span class="p">}}</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">rep</span> <span class="o">=</span> <span class="n">yql</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">&#39;geo.countries&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;name&#39;</span><span class="p">,</span> <span class="s">&#39;woeid&#39;</span><span class="p">],</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">([</span><span class="s">&#39;place&#39;</span><span class="p">,</span> <span class="s">&#39;in&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;Africa&#39;</span><span class="p">,</span> <span class="s">&#39;Europe&#39;</span><span class="p">)])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">rep</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="p">{</span><span class="s">u&#39;query&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">u&#39;count&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s">u&#39;lang&#39;</span><span class="p">:</span> <span class="s">u&#39;en-US&#39;</span><span class="p">,</span> <span class="s">u&#39;results&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">u&#39;place&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s">u&#39;woeid&#39;</span><span class="p">:</span> <span class="s">u&#39;23424740&#39;</span><span class="p">,</span> <span class="s">u&#39;name&#39;</span><span class="p">:</span> <span class="s">u&#39;Algeria&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s">u&#39;woeid&#39;</span><span class="p">:</span> <span class="s">u&#39;23424745&#39;</span><span class="p">,</span> <span class="s">u&#39;name&#39;</span><span class="p">:</span> <span class="s">u&#39;Angola&#39;</span><span class="p">}]},</span> <span class="s">u&#39;created&#39;</span><span class="p">:</span> <span class="s">u&#39;2014-08-17T11:22:49Z&#39;</span><span class="p">}}</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>


<h2>get(table, fields, limit)</h2>
<p>Same as <strong><em>SELECT</em></strong>, but instead returns data.</p>
<p><strong>REMINDER</strong> : Some tables require a <strong>where clause</strong>, therefore <strong><em>GET</em></strong> won't work on those tables, use <em>select(...).where(...)</em> instead .</p>
<div class="highlight"><pre><span class="o">&gt;&gt;&gt;</span> <span class="n">yql</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;geo.countries&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;name&#39;</span><span class="p">,</span> <span class="s">&#39;woeid&#39;</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">rep</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="p">{</span><span class="s">u&#39;query&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">u&#39;count&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">u&#39;lang&#39;</span><span class="p">:</span> <span class="s">u&#39;en-US&#39;</span><span class="p">,</span> <span class="s">u&#39;results&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">u&#39;place&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">u&#39;woeid&#39;</span><span class="p">:</span> <span class="s">u&#39;23424966&#39;</span><span class="p">,</span> <span class="s">u&#39;name&#39;</span><span class="p">:</span> <span class="s">u&#39;Sao Tome and Principe&#39;</span><span class="p">}},</span> <span class="s">u&#39;created&#39;</span><span class="p">:</span> <span class="s">u&#39;2014-08-17T10:32:25Z&#39;</span><span class="p">}}</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
    </div><!-- /.entry-content -->
    <div class="comments">
      <h2>Comments !</h2>
      <div id="disqus_thread"></div>
      <script type="text/javascript">
        var disqus_shortname = 'fgjosue';
        var disqus_identifier = 'lokingyql.html';
        var disqus_url = 'http://212.83.154.157/blog/lokingyql.html';
        (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//fgjosue.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
      </script>
      <noscript>Please enable JavaScript to view the comments.</noscript>
    </div>

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="http://twitter.com/josuebrunel">Twitter</a></li>
                            <li><a href="https://github.com/josuebrunel">Github</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-32441224-2']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
<script type="text/javascript">
    var disqus_shortname = 'fgjosue';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>